[gd_scene format=3 uid="uid://dovn0xb8n3xev"]

[ext_resource type="Script" uid="uid://4l2tw7700a7o" path="res://script/player.gd" id="1_ym8xw"]
[ext_resource type="Script" uid="uid://ca685uc113riu" path="res://addons/cognite/node/cognite_node.gd" id="2_ybxrv"]
[ext_resource type="Resource" uid="uid://c8ie3smlmjs6r" path="res://assets/cognite/player.tres" id="3_ybxrv"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_a202f"]
height = 1.5

[sub_resource type="SphereMesh" id="SphereMesh_ybxrv"]
radius = 0.1
height = 0.2

[sub_resource type="SphereMesh" id="SphereMesh_r3fl7"]
radius = 0.25
height = 0.5

[sub_resource type="CapsuleMesh" id="CapsuleMesh_r3fl7"]
radius = 0.225
height = 1.56

[sub_resource type="BoxMesh" id="BoxMesh_jka67"]
size = Vector3(0.285, 0.92, 0.075)

[sub_resource type="BoxMesh" id="BoxMesh_i5arm"]
size = Vector3(0.14, 0.33, 0.075)

[sub_resource type="BoxShape3D" id="BoxShape3D_o1l8c"]
size = Vector3(2, 1, 2.7075195)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_a0tk4"]

[sub_resource type="SphereShape3D" id="SphereShape3D_4xowi"]

[sub_resource type="Animation" id="Animation_wc5p8"]
resource_name = "Atack"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Model/Sword:rotation")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.13333334, 0.2533333, 0.33333334, 0.4, 0.46666667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.17240362, -1.4265275, 0.6981316), Vector3(-1.0030234, -0.67612135, 0.49680096), Vector3(-1.0030235, -0.15814245, 0.4968009), Vector3(-1.0030236, -2.687561, 0.49680093), Vector3(-1.331363, -1.9583101, -2.1257567), Vector3(-1.1266377, -2.0441654, -2.9171245)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Model/Sword:position")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.13333334, 0.2533333, 0.33333334, 0.4, 0.46666667),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector3(0.5641079, 0, 0), Vector3(0.564, 0.2, -0.279), Vector3(0.58, 0.1, -0.518), Vector3(0.71201706, 0, 0.56791466), Vector3(-0.701, -0.163, 0.537), Vector3(-0.853, -0.263, 0.074)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Model/Demage/demage:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.23333335, 0.4666667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, false, true]
}

[sub_resource type="Animation" id="Animation_r3fl7"]
resource_name = "Idle"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Model/Base:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.53333336),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0.16541934, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Model/Sword:position")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0.5641079, 0, 0), Vector3(0.564, 0.23, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Model/Sword:rotation")
tracks/2/interp = 2
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -1.5707964, 0), Vector3(0, -1.5707964, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Model/perna:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Model/perna2:rotation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_jka67"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Model/Base:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Model/Sword:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.5641079, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Model/Sword:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-2.711654e-08, -1.5707964, -0.66919416)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Model/Demage/demage:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_i5arm"]
resource_name = "Walk"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Model/Base:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Model/perna2:rotation")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.49),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0.7853982, 0, 0), Vector3(-0.7853982, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Model/perna:rotation")
tracks/2/interp = 2
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.49),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(-0.7853982, 0, 0), Vector3(0.7853981, 0, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Model/Sword:position")
tracks/3/interp = 2
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0.5641079, 0, 0), Vector3(0.5641079, 0.17638707, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Model/Sword:rotation")
tracks/4/interp = 2
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 0.56666666),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -1.5707964, 0.6981316), Vector3(0, -1.5707964, 1.0210177)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_lnto1"]
_data = {
&"Atack": SubResource("Animation_wc5p8"),
&"Idle": SubResource("Animation_r3fl7"),
&"RESET": SubResource("Animation_jka67"),
&"Walk": SubResource("Animation_i5arm")
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ybxrv"]
_data = {
&"Atack": SubResource("Animation_wc5p8"),
&"RESET": SubResource("Animation_jka67")
}

[node name="Player" type="CharacterBody3D" unique_id=293590328]
script = ExtResource("1_ym8xw")
sensi = 0.2

[node name="Model" type="Node3D" parent="." unique_id=2078686565]

[node name="Base" type="MeshInstance3D" parent="Model" unique_id=1731163751]
mesh = SubResource("CapsuleMesh_a202f")

[node name="Eyes" type="Node3D" parent="Model/Base" unique_id=1260486945]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.22726011, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Model/Base/Eyes" unique_id=903773559]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.2, 0.091, 0.415)
mesh = SubResource("SphereMesh_ybxrv")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Model/Base/Eyes" unique_id=628729363]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2, 0.091, 0.415)
mesh = SubResource("SphereMesh_ybxrv")

[node name="perna" type="Node3D" parent="Model" unique_id=829458123]
transform = Transform3D(1, 0, 0, 0, 0.99999964, 0, 0, 0, 0.99999964, 0.5, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Model/perna" unique_id=453551086]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.80156046, 0)
mesh = SubResource("SphereMesh_r3fl7")

[node name="perna2" type="Node3D" parent="Model" unique_id=95772901]
transform = Transform3D(1, 0, 0, 0, 0.9999999, 0, 0, 0, 0.9999999, -0.5, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Model/perna2" unique_id=1948367041]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.80156046, 0)
mesh = SubResource("SphereMesh_r3fl7")

[node name="Sword" type="Node3D" parent="Model" unique_id=684515060]
transform = Transform3D(-5.110566e-08, -5.8484466e-09, -0.9999996, -0.6203542, 0.7843218, 2.711653e-08, 0.78432184, 0.6203541, -4.371137e-08, 0.5641079, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Model/Sword" unique_id=346174313]
transform = Transform3D(-1.5298985e-08, -0.35, 0, 0.35, -1.5298985e-08, 0, 0, 0, 0.35, 0, 0, 0)
mesh = SubResource("CapsuleMesh_r3fl7")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Model/Sword" unique_id=1101740844]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.53281176, 0)
mesh = SubResource("BoxMesh_jka67")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Model/Sword" unique_id=582792047]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.53281176, 0)
mesh = SubResource("BoxMesh_jka67")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="Model/Sword" unique_id=194896044]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.20307314, 0)
mesh = SubResource("BoxMesh_i5arm")

[node name="Demage" type="Area3D" parent="Model" unique_id=638055518]
collision_layer = 0
collision_mask = 8

[node name="demage" type="CollisionShape3D" parent="Model/Demage" unique_id=904965202]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.3537598)
shape = SubResource("BoxShape3D_o1l8c")
disabled = true
debug_color = Color(0.99514896, 0, 0.21801919, 0.41960785)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=544098470]
shape = SubResource("CapsuleShape3D_a0tk4")

[node name="Spring" type="SpringArm3D" parent="." unique_id=1307741222]
shape = SubResource("SphereShape3D_4xowi")
spring_length = 5.0

[node name="Camera3D" type="Camera3D" parent="Spring" unique_id=746517608]

[node name="Anima" type="AnimationPlayer" parent="." unique_id=1728590575]
libraries/ = SubResource("AnimationLibrary_lnto1")
playback_default_blend_time = 0.2

[node name="Sword" type="AnimationPlayer" parent="." unique_id=502144470]
libraries/ = SubResource("AnimationLibrary_ybxrv")
playback_auto_capture_transition_type = 7
speed_scale = 0.8

[node name="CogniteNode" type="Node" parent="." unique_id=1312144879]
script = ExtResource("2_ybxrv")
cognite_assemble = ExtResource("3_ybxrv")
y = null
z = null
x = null
request_atack = null
metadata/_custom_type_script = "uid://ca685uc113riu"

[connection signal="body_entered" from="Model/Demage" to="." method="_on_demage_body_entered"]
[connection signal="animation_finished" from="Anima" to="." method="_on_anima_animation_finished"]
[connection signal="animation_finished" from="Sword" to="." method="_on_anima_animation_finished"]
[connection signal="started" from="CogniteNode" to="." method="_on_cognite_node_started"]
